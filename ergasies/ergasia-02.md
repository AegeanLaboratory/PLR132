[![Hits](https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Feffie375.github.io%2FTPTE-AEGEAN&count_bg=%23E3802B&title_bg=%2307359E&icon=internetarchive.svg&icon_color=%23E7E7E7&title=%CE%A0%CF%81%CE%BF%CE%B2%CE%BF%CE%BB%CE%AD%CF%82&edge_flat=false)](https://hits.seeyoufarm.com)

# 2η Εργασία

Η δεύτερη εργασία εξετάζει την ικανότητά σας στην τµηµατοποίηση ενός **έτοιµου** προγράµµατος ώστε να υλοποιηθεί µε χρήση συναρτήσεων.

Το πρόγραµµα που υπάρχει στο πηγαίο αρχείο 2_kodikas.c (φαίνεται παρακάτω) υπολογίζει την ηµέρα µιας συγκεκριµένης ηµεροµηνίας που δίνει ο χρήστης. Το πρόγραµµα υλοποιεί τον αλγόριθµο του Zeller (1822-1899) και υπολογίζει την ηµέρα µιας συγκεκριµένης ηµεροµηνίας µε τον ακόλουθο τρόπο:

```c
#include <stdio.h>
#define ONOMA "Nikos Chatzigiannakis"
#define USER_NAME "ct090000"

int main()
{
      int A,B1,B2,B3,C,D,X,S,H,M,E;
      int disekto;
      printf("\n");
      printf("##############################################\n");
      printf(ONOMA);
      printf("\n");
      printf(USER_NAME);
      printf("\n");
      printf("----------------------------------------------\n");

      do
      {
        printf("Dose imerominia:");
        scanf("%d-%d-%d",&H,&M,&E);
        if (H==0) break;
        A=365*(E-1);
        B1=(E-1)/4;
        B2= -(E-1)/100;
        B3= (E-1)/400;
        C= (367*M-362)/12;
        if ((E%4==0 && E%100!=0) || E%400==0)
           disekto=1;
        else
           disekto=0;
        if (M<=2)
           D=0;
        else if (M>2 && disekto)
           D=-1;
        else
           D=-2;
        S=A+B1+B2+B3+C+D+H;
        X=S%7;
        if (X==0) printf("Stis %d/%d/%d i imera einai Kyriaki\n",H,M,E);
        else if (X==1) printf("Stis %d/%d/%d i imera einai Deytera\n",H,M,E);
        else if (X==2) printf("Stis %d/%d/%d i imera einai Triti\n",H,M,E);
        else if (X==3) printf("Stis %d/%d/%d i imera einai Tetarti\n",H,M,E);
        else if (X==4) printf("Stis %d/%d/%d i imera einai Pempti\n",H,M,E);
        else if (X==5) printf("Stis %d/%d/%d i imera einai Paraskeyi\n",H,M,E);   
        else printf("Stis %d/%d/%d i imera einai Savato\n",H,M,E);
        printf("====================================================\n");
      } while (H != 0);
      return 0;
}
```

Προκειµένου να βρούµε ποια µέρα της εβδοµάδας αντιστοιχεί σε µια δοθείσα ηµεροµηνία Η/M/E (**H** ηµέρα, **M** µήνας, **E** έτος) υπολογίζουµε το άθροισµα Σ=A+B1+B2+B3+Γ+Δ+Η όπου:

- Α = 365*(Ε-1)
- Β1 = (Ε -1) div 4 &rarr; Το **div** υποδηλώνει ακέραια διαίρεση. Στη C η ακέραια διαίρεση γίνεται κανονικά µε τον τελεστή / αρκεί τα µέλη του να είναι ακέραια (π.χ 5/2 έχει ως αποτέλεσµα 2).
- Β2 = – (Ε -1) div 100
- Β3 = (Ε -1) div 400
- Γ = (367*Μ-362) div 12

η δε τιµή του **Δ** είναι:

- `0` αν Μ<=2
- `-1` αν Μ>2 και το έτος Ε είναι **δίσεκτο** και
- `-2` σε κάθε άλλη περίπτωση

Για τον υπολογισµό του Δ υπενθυµίζουµε ότι δίσεκτα είναι τα έτη που διαιρούνται ακριβώς µε το 4 και δεν διαιρούνται ακριβώς µε το 100. Επίσης δίσεκτα είναι τα έτη που διαιρούνται ακριβώς µε το 400.

Η ζητούµενη µέρα προκύπτει από τον ακέραιο αριθµό Χ = Σ % 7 (στη C ο τελεστής % υποδηλώνει το υπόλοιπο µιας ακέραιας διαίρεσης). Το αποτέλεσµα θα είναι ένας ακέραιος αριθµός από το 0 µέχρι το 6 όπου το 0 αντιστοιχεί στην Κυριακή, το 1 στη Δευτέρα, κ.ο.κ.

Παράδειγµα: Για την ηµεροµηνία 25/12/1996 (H=25, M=12, E=1996) προκύπτει:

Α=728175, Β1=498, Β2=-19, Β3=4, Γ=336, Δ=-1,

Σ=729018 και Χ=3 εποµένως ηµέρα Τετάρτη

Το πρόγραµµα **2_kodikas.c** ζητάει µια ηµεροµηνία στη µορφή:

`Dose imerominia:23-3-2013`

και εµφανίζει την ηµέρα της εβδοµάδας ως ακολούθως:

`H imera stis 23/3/2013 einai Savato`

Το πρόγραµµα έχει επαναληπτική λειτουργία. Δηλαδή µε το που εµφανίζει την ηµέρα για κάποια ηµεροµηνία ζητάει την επόµενη κ.ο.κ. Η επαναληπτική διαδικασία σταµατάει όταν στην ηµεροµηνία για ηµέρα δώσουµε 0 (π.χ 0-3-2012). Το πρόγραµµα επίσης εµφανίζει στην αρχή τα στοιχεία µας.

Το πρώτο που πρέπει να κάνετε είναι να τρέξετε το πρόγραµµα που σας δόθηκε, να δείτε ότι δουλεύει, να το **µελετήστε** ΠΡΟΣΕΚΤΙΚΑ και να κατανοήστε **πλήρως** τη λειτουργία του.

**ΠΡΟΣΟΧΗ** δεν θα πρέπει να φτιάξετε άλλο πρόγραµµα αλλά να τροποποιήστε το πρόγραµµα 2_kodikas.c ώστε ορισµένες από τις λειτουργίες του να υλοποιούνται από **συναρτήσεις**. Συγκεκριµένα θα πρέπει να ακολουθήστε τα παρακάτω βήµατα:

## 1o βήμα

Φτιάξτε µια συνάρτηση η οποία θα **εµφανίζει τα στοιχεία** του φοιτητή (τα δικά σας δηλαδή) στην οθόνη µε τον ίδιο ακριβώς τρόπο όπως το υπάρχον πρόγραµµα. Η συνάρτηση θα υλοποιεί το τµήµα που σας δόθηκε, όπως φαίνεται παρακάτω.

```c
printf("\n");
printf("##############################################\n");
printf(ONOMA);
printf("\n");
printf(USER_NAME);
printf("----------------------------------------------\n"); 
```

## 2o βήμα

Μέσα στη main() καλέστε τη συνάρτηση που φτιάξατε στο 1ο βήµα ώστε τα στοιχεία σας να τα εµφανίζει η συγκεκριµένη συνάρτηση και όχι η main(). Φυσικά θα πρέπει να αφαιρέστε και να προσαρµόστε το τµήµα που υλοποιούσε αυτή τη λειτουργία στη main().

## 3o βήμα

Καταστρώστε µία συνάρτηση η οποία θα δέχεται ως παράµετρο ένα έτος. Η συνάρτηση θα πρέπει να **επιστρέφει ως τιµή** το 1, στη περίπτωση που το έτος είναι δίσεκτο και το 0 αν είναι κανονικό. Η συνάρτηση θα υλοποιεί το τµήµα που σας δόθηκε, όπως φαίνεται παρακάτω.

```c
if ((E%4==0 && E%100!=0) || E%400==0)
    disekto = 1;
else
    disekto = 0;
```

## 4o βήμα

